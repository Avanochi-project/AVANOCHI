<div class="tasks-today-container">
  <div class="avatar-stats-group">
    <!-- Avatar y saludo solo una vez -->
    <div class="avatar-block">
      <img src="avanochi_avatar.png" alt="Avatar" class="avatar-img">
      <div class="avatar-greeting">
        <span class="greeting-text">Â¡Hola X! Bienvenid@, vamos a trabajar! ðŸŒŸ </span>
      </div>
    </div>
    <div class="jornada-block">
      <div class="jornada-btns">
  <button (click)="registrarInicio()" [disabled]="!!jornadaInicio()">Iniciar jornada</button>
  <button (click)="pausarTimer()" [disabled]="!jornadaInicio() || !!jornadaFin() || timerPaused()">Pausar</button>
  <button (click)="reanudarTimer()" [disabled]="!timerPaused() || !!jornadaFin()">Reanudar</button>
  <button (click)="registrarFin()" [disabled]="!jornadaInicio() || !!jornadaFin()">Finalizar jornada</button>
      </div>
      <div class="jornada-info">
        <span *ngIf="!jornadaFin()" class="timer-label"><strong>Tiempo de jornada actual:</strong> <span class="timer-value">{{ timer() }}</span></span>
        <span *ngIf="jornadaFin()" class="timer-label"><strong>Tiempo final:</strong> <span class="timer-value">{{ timer() }}</span></span>
  <div *ngIf="jornadaFin()" class="jornada-completada"><strong>âœ… Jornada completada. Â¡Buen trabajo!</strong></div>
      </div>
    </div>
    <div class="user-stats-preview">
      <h3>EstadÃ­sticas de tu Ãºltima semana</h3>
      <ul>
        <li><strong>Tareas completadas:</strong> 12</li>
        <li><strong>Tareas pendientes:</strong> 3</li>
        <li><strong>DÃ­as productivos:</strong> 5</li>
        <li><strong>Mejor dÃ­a:</strong> Jueves</li>
      </ul>
      <a href="#" class="stats-link">Ver estadÃ­sticas completas</a>
    </div>
  </div>
  <div class="task-card task-card-today">
    <h2>TAREAS DE HOY</h2>
    <form (submit)="$event.preventDefault(); addTask()">
      <input type="text" [value]="newTask()" (input)="newTask.set($event.target.value)" placeholder="Nueva tarea..." />
      <button type="submit">AÃ±adir</button>
    </form>
    <ul>
      <li *ngFor="let task of tasks(); let i = index">
        <input type="checkbox" [checked]="task.done" (change)="toggleDone(i)" />
        <span [style.textDecoration]="task.done ? 'line-through' : 'none'">{{ task.title }}</span>
  <button class="delete-btn" (click)="deleteTask(i)" aria-label="Eliminar tarea">Ã—</button>
      </li>
    </ul>
  </div>
</div>
